{% extends 'base.html' %}

{% block title %}Admin Dashboard{% endblock %}

{% block content %}
<div class="container">
    <div class="row">
        <div class="col-sm-6">
            <h1>Hi {{ user.first_name }}</h1>
            <a href="{% url 'import_devpost' %}">Import devpost</a>
            <br>

            {{ form.non_field_errors }}
            {% for field in config_form %}
                <div class="form-group">
                    {{ field.errors }}
                    {{ field.label_tag }}
                    <input class="form-control" id="{{ field.id_for_label }}" maxlength="150" name="{{ field.html_name }}" type="text" value="{{ field.value }}"/> 
                    <small class="form-text text-muted">{{ field.help_text }}</small>
                </div>
            {% endfor %}

            <form method="POST" action="{% url 'assign_demos' %}">
                {% csrf_token %}
                <input type="submit" class="btn btn-primary" value="Assign Demos">
            </form>

            <form method="POST" action="{% url 'assign_tables' %}">
                {% csrf_token %}
                <input type="submit" class="btn btn-primary" value="Assign Tables">
            </form>

            {% if is_debug %}
                <form method="POST" action="{% url 'simulate_demos' %}">
                    {% csrf_token %}
                    <input type="submit" class="btn btn-primary" value="Simulate Demos">
                </form>
                <form method="POST" action="{% url 'generate_judges' %}">
                    {% csrf_token %}
                    <input type="submit" class="btn btn-primary" value="Generate judges">
                </form>
                <form method="POST" action="{% url 'delete_all_demos' %}">
                    {% csrf_token %}
                    <input type="submit" class="btn btn-primary" value="Delete Demos">
                </form>
            {% endif %}
        </div>
    </div>
</div>
{% endblock %}